@{
    var controller = HttpContext.Current.Request.RequestContext.RouteData.Values["Controller"].ToString().ToLower();
    var action = HttpContext.Current.Request.RequestContext.RouteData.Values["Action"].ToString().ToLower();
    string cLayout = "";
    var UserId = 0;

    if (@Session["UserId"] != null)
    {
        UserId = Convert.ToInt32(Session["UserId"].ToString());
    }

    if (controller == "category")
    {
        if (UserId == 0)
        {
            cLayout = "~/Views/Shared/_LayoutCategory.cshtml";
        }
        else
        {
            cLayout = "~/Views/Shared/_LayoutProfile.cshtml";
        }

    }
    else if (controller == "profile")
    {
        if (UserId == 0)
        {
            cLayout = "~/Views/Shared/_LayoutCategory.cshtml";
        }
        else
        {
            cLayout = "~/Views/Shared/_LayoutProfile.cshtml";
        }
    }
    else if (controller == "jobs")
    {
        if(action!="postjob")
        {
            if (UserId == 0)
            {
                cLayout = "~/Views/Shared/_LayoutCategory.cshtml";
            }
            else
            {
                cLayout = "~/Views/Shared/_LayoutProfile.cshtml";
            }
        }
        else
        {
            cLayout = null;
        }
    }
    else if (controller == "dashboard")
    {
        cLayout = "~/Views/Shared/_LayoutProfile.cshtml";
    }
    else if(controller=="home")
    {
        cLayout = "~/Views/Shared/_LayoutProfile.cshtml";
    }
    else if (controller == "admin")
    {
        cLayout = "~/Views/Shared/_LayoutAdmin.cshtml";
    }
    else if (controller == "login")
    {
        if (action == "login" || action == "register" || action=="skillmapping" || action=="forgotpassword")
        {
            cLayout = null;
        }
        else
        {
            cLayout = "~/Views/Shared/_Layout.cshtml";
        }
    }
    else if (controller == "gigs" || controller == "gigstemp")
    {
        if (action != "creategig")
        {
            if (UserId == 0)
            {
                cLayout = "~/Views/Shared/_LayoutCategory.cshtml";
            }
            else
            {
                cLayout = "~/Views/Shared/_LayoutProfile.cshtml";
            }
        }
        else
        {
            cLayout = null;
        }
    }
    else if(controller=="gigstemp")
    {
        cLayout = "~/Views/Shared/_LayoutProfile.cshtml";
    }
    else
    {
        cLayout = "~/Views/Shared/_Layout.cshtml";
    }
    Layout = cLayout;
}
