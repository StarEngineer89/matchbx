@model  List<Model.CoinViewModel>
@{
    ViewBag.Title = "CryptoExchange";
    //Layout = "~/Views/Shared/_LayoutProfile.cshtml";
    Layout = Layout;

    var itemsFba = Model.Select(c =>
    {
        return new SelectListItem
        {
            Text = c.symbol,
            Value = c.id,
            Selected = c.symbol == ViewBag.fba
        };

    }).ToList();
    var itemsFbc = Model.Select(c =>
   {
       return new SelectListItem
       {
           Text = c.symbol,
           Value = c.id,
           Selected = c.symbol == ViewBag.fbc
       };

   }).ToList();
}

<main id="content" class="middle">
    <figure class="mobile-hide text-center"><img src="http://placehold.it/190x50" alt="Placeholder" width="190" height="50"></figure>
    <article class="w820">
        <form action="" method="post" class="form-b">
            <p>
                <label for="fba">Pay with</label>
             
                @*<select id="fba" name="fba">
                        @foreach (var item in Model)
                        {
                            <option value="@item.symbol">@item.name</option>
                        }
                    </select>*@
                @Html.DropDownList("fba", itemsFba)

                <label for="fbb" class="hidden">Amount</label>
                <input type="number" id="fbb" name="fbb" required value="@ViewBag.fbb">
            </p>
            <p><a href="./"><i class="icon-arrows"></i> <span class="hidden">Switch</span></a></p>
            <p>
                <label for="fbc">Receive</label>
                @*@Html.DropDownList("fba", (IEnumerable<SelectListItem>)ViewBag.allCrypto)*@
                @Html.DropDownList("fbc", itemsFbc)
                <label for="fbd" class="hidden">Amount</label>
                <input type="number" id="fbd" name="fbd" value="@ViewBag.fbd">
            </p>
            <p class="submit"><
                button type="submit">Convert</button></p>
        </form>
        <table id="table-money" class="table-money">

            <tr>
                <th colspan="2">Name</th>
                <th>Balance <a href="./" class="small">Hide Zero</a></th>
                <th>Price</th>
                <th>24H Change</th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td><img src="http://placehold.it/30" alt="Placeholder" width="30" height="30"></td>
                    <td>
                        @item.symbol   <span class="small">@item.name</span>
                    </td>
                    <td>
                        0.00
                    </td>
                    <td>
                        $ @item.price
                    </td>
                    <td>
                        @item.percent_change_24h  %
                    </td>
                   
                </tr>
            }

                    </table>
    </article>
</main>
<script type="text/javascript">
    //$(document).ready(function () {
    //    SwitchList();
    //});
    //function SwitchList() {

    //    $.ajax({
    //        type: 'GET',
    //        headers: {
    //            //"key": "your key",
    //            'Access-Control-Allow-Origin': '*',
    //            "Accept": "application/json",//depends on your api
    //           /* "Content-type": "application/x-www-form-urlencoded"*///depends on your api
    //        },
    //        url: 'https://switch.ag/api/coins/list/',
    //        dataType: 'jsonp',
    //        data: { id: '' },
    //        success: function (data) {
    //            debugger;
    //            alert(data);
    //        },
    //        error: function (ex) {
    //             debugger;
    //            var r = jQuery.parseJSON(response.responseText);

    //        }
    //    });
    //}
</script>


